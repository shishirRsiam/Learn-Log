name: Send Email on Push

on:
  push:
    branches: [main] # or any branch you prefer

jobs:
  send_email:
    runs-on: ubuntu-latest

    steps:
    - name: Send Email
      uses: dawidd6/action-send-mail@v3
      with:
        server_address: smtp.gmail.com
        server_port: 465
        username: ${{ secrets.MAIL_USERNAME }}
        password: ${{ secrets.MAIL_PASSWORD }}
        subject: ğŸ”¥ New Push to Main â€“ ${{ github.event.head_commit.message }}
        to: your.email@example.com
        from: GitHub Actions <your.email@example.com>
        content_type: text/html
        body: |
          <div style="font-family: Arial, sans-serif; padding: 20px; background-color: #f9f9f9; color: #333;">
            <h2 style="color: #4CAF50;">ğŸš€ New Code Just Landed!</h2>
            <p><strong>Repository:</strong> <a href="https://github.com/${{ github.repository }}" style="color: #0366d6;">${{ github.repository }}</a></p>
            <p><strong>Branch:</strong> <span style="color: #ff5722;">${{ github.ref_name }}</span></p>
            <p><strong>Commit:</strong> <code>${{ github.sha }}</code></p>
            <p><strong>Author:</strong> <span style="color: #009688;">${{ github.actor }}</span></p>
            <p><strong>Message:</strong> <em>${{ github.event.head_commit.message }}</em></p>

            <a href="https://github.com/${{ github.repository }}/commit/${{ github.sha }}" style="margin-top: 15px; display: inline-block; background: #4CAF50; color: white; padding: 10px 15px; text-decoration: none; border-radius: 5px;">
              ğŸ” View Commit
            </a>

            <p style="margin-top: 30px; font-size: 0.9em; color: #777;">This is an automated notification sent from GitHub Actions ğŸ’¬</p>
          </div>
